<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Calculadora Ruidos</title>

    <style>
        * {
            font-family: Arial, sans-serif;
            font-size: 25px;
        }

        #periodolbl,
        #resultadolmoff,
        #resultadolmon,
        #lmplbl,
        #lmplblm7v,
        #calculoruido {
            font-weight: bold;
            color: darkred;
        }

        #lmplbl,
        #lmplblm7v,
        #calculoruido {
            font-size: 30px;
        }

        #m1on,
        #m2on,
        #m3on,
        #m1off,
        #m2off,
        #m3off {
            width: 80px;
            text-align: center;
        }

        table {
            table-layout: fixed;
            width: 100%;
        }

        #domicilio {
            width: 100%;
        }

        th,
        td {
            padding: 4px;
            text-align: left;
            border: 1px solid #ddd;

        }
    </style>
	<link href="style.css" rel="stylesheet">
	<link href="site.css" rel="stylesheet">
</head>

<body>
	
	
    <h2><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="72.167" height="72.169" viewBox="0 0 102.167 102.169">
  <defs>
    <linearGradient id="linear-gradient" x1="0.5" x2="0.5" y2="1" gradientUnits="objectBoundingBox">
      <stop offset="0" stop-color="#f6cc30"/>
      <stop offset="0.248" stop-color="#f5cd31"/>
      <stop offset="0.559" stop-color="#eee48a"/>
      <stop offset="0.81" stop-color="#aad4c3"/>
      <stop offset="1" stop-color="#30abdf"/>
    </linearGradient>
  </defs>
  <path id="Unión_2" data-name="Unión 2" d="M57,102.169a4,4,0,0,1-4-4V57a4,4,0,0,1,4-4H98.168a4,4,0,0,1,4,4v41.17a4,4,0,0,1-4,4Zm-53,0a4,4,0,0,1-4-4V57a4,4,0,0,1,4-4H45.167a4,4,0,0,1,4,4v41.17a4,4,0,0,1-4,4Zm0-53a4,4,0,0,1-4-4V4A4,4,0,0,1,4,0H45.167a4,4,0,0,1,4,4v41.17a4,4,0,0,1-4,4Z" fill="#f6cc30"/>
  <path id="Unión_1" data-name="Unión 1" d="M62.125,87.025a14.949,14.949,0,0,1-6.026-6.3A20.757,20.757,0,0,1,54,71.1a21.911,21.911,0,0,1,1.2-7.475,16.14,16.14,0,0,1,3.45-5.7,14.965,14.965,0,0,1,5.525-3.649A20.186,20.186,0,0,1,71.55,53a21.037,21.037,0,0,1,5.4.7,15.914,15.914,0,0,1,4.649,2A3.22,3.22,0,0,1,83,57.275a3.068,3.068,0,0,1,.15,1.8,2.892,2.892,0,0,1-.825,1.475,2.456,2.456,0,0,1-1.55.675A3.321,3.321,0,0,1,78.75,60.6a11.137,11.137,0,0,0-3.35-1.45,15.017,15.017,0,0,0-3.65-.45,11.594,11.594,0,0,0-6,1.45,9.124,9.124,0,0,0-3.7,4.2A16.272,16.272,0,0,0,60.8,71.1a16.489,16.489,0,0,0,1.25,6.75,9.086,9.086,0,0,0,3.7,4.25,11.594,11.594,0,0,0,6,1.45,15.063,15.063,0,0,0,3.75-.474A12.956,12.956,0,0,0,79,81.6a3.379,3.379,0,0,1,1.975-.575,2.424,2.424,0,0,1,1.475.625,2.679,2.679,0,0,1,.8,1.375,2.986,2.986,0,0,1-.1,1.7,3.154,3.154,0,0,1-1.2,1.525,14.887,14.887,0,0,1-4.774,2.226,20.823,20.823,0,0,1-5.625.775A18.81,18.81,0,0,1,62.125,87.025Zm-51.9.025A14.672,14.672,0,0,1,4.1,80.8,20.607,20.607,0,0,1,2,71.2a21.885,21.885,0,0,1,1.225-7.55,15.838,15.838,0,0,1,3.551-5.725,15.561,15.561,0,0,1,5.674-3.649A21.24,21.24,0,0,1,20.05,53a24.137,24.137,0,0,1,5.625.675A17.246,17.246,0,0,1,31,55.95a2.628,2.628,0,0,1,1.125,1.35,2.838,2.838,0,0,1,.076,1.625,3.188,3.188,0,0,1-.751,1.426,2.392,2.392,0,0,1-1.375.75,2.758,2.758,0,0,1-1.824-.4,15.253,15.253,0,0,0-3.85-1.6,17.5,17.5,0,0,0-4.35-.5A12.3,12.3,0,0,0,13.8,60.075,9.2,9.2,0,0,0,9.975,64.35,16.486,16.486,0,0,0,8.7,71.2q0,6.151,2.95,9.35t8.75,3.2a21.125,21.125,0,0,0,4.05-.4,27.338,27.338,0,0,0,2.75-.685V74.45H21.7a2.666,2.666,0,0,1-1.925-.65,2.317,2.317,0,0,1-.675-1.75,2.22,2.22,0,0,1,.675-1.75,2.806,2.806,0,0,1,1.925-.6h8.25a2.354,2.354,0,0,1,2.6,2.6V84.45a3.7,3.7,0,0,1-.425,1.85,2.5,2.5,0,0,1-1.375,1.1,31.547,31.547,0,0,1-5.05,1.325,30.86,30.86,0,0,1-5.6.526A20.348,20.348,0,0,1,10.225,87.05ZM29.71,35.375A5.691,5.691,0,0,1,28.335,33.3l-2.5-5.8H8.643L6.185,33.3a6.526,6.526,0,0,1-1.35,2.1,2.83,2.83,0,0,1-2,.651A3.1,3.1,0,0,1,.91,35.5a2.227,2.227,0,0,1-.875-1.474,3.719,3.719,0,0,1,.35-2.075L13.585,2.7A4.783,4.783,0,0,1,15.16.625,3.7,3.7,0,0,1,17.285,0,3.623,3.623,0,0,1,19.36.625,4.783,4.783,0,0,1,20.935,2.7l13.25,29.25a3.58,3.58,0,0,1,.4,2.1,2.19,2.19,0,0,1-.851,1.475,3.006,3.006,0,0,1-1.849.526A3.205,3.205,0,0,1,29.71,35.375ZM23.657,22.4,17.285,7.35h-.1L10.857,22.4Z" transform="translate(7.5 6.5)" fill="#3e3d40" stroke="#3e3d40" stroke-width="1"/>
  <path id="Trazado_105" data-name="Trazado 105" d="M106.945,36.351h0a4.277,4.277,0,0,0-3.826,2.363L97.36,49.833a5.735,5.735,0,0,0-2.9-2.525,5.5,5.5,0,0,0-.7-9.343,11.168,11.168,0,0,0-5.216-1.281H79.937a3.2,3.2,0,0,0-3.2,3.2V55.9a3.2,3.2,0,0,0,3.2,3.2h9.309A12.819,12.819,0,0,0,94.3,58.065l.591-.286c.033-.016.065-.033.1-.05a3.2,3.2,0,0,0,5.652-.326,1.7,1.7,0,0,1,1.484-1.032h9.646a1.7,1.7,0,0,1,1.484,1.032,3.2,3.2,0,0,0,6.112-1.318,3.145,3.145,0,0,0-.414-1.574l-8.176-15.8a4.277,4.277,0,0,0-3.827-2.363Z" transform="translate(-20 -23.351)" fill="#fff"/>
  <path id="Trazado_37" data-name="Trazado 37" d="M106.945,36.351h0a4.277,4.277,0,0,0-3.826,2.363L97.36,49.833a5.735,5.735,0,0,0-2.9-2.525,5.5,5.5,0,0,0-.7-9.343,11.168,11.168,0,0,0-5.216-1.281H79.937a3.2,3.2,0,0,0-3.2,3.2V55.9a3.2,3.2,0,0,0,3.2,3.2h9.309A12.819,12.819,0,0,0,94.3,58.065l.591-.286c.033-.016.065-.033.1-.05a3.2,3.2,0,0,0,5.652-.326,1.7,1.7,0,0,1,1.484-1.032h9.646a1.7,1.7,0,0,1,1.484,1.032,3.2,3.2,0,0,0,6.112-1.318,3.145,3.145,0,0,0-.414-1.574l-8.176-15.8a4.277,4.277,0,0,0-3.827-2.363Z" transform="translate(-20 -23.351)" fill="url(#linear-gradient)"/>
</svg>Calculadora de Ruidos</h2>
    <table>
        <tr>
            <!-- <td><label for="fecha">Domicilio :</label></td> -->
            <!-- <td><textarea name="domicilio" id="domicilio"></textarea></td> -->
        </tr>
        <tr>
            <td><label>Decibelimetro (nro serie): </label></td>
            <td><select id="decibelimetro">
                    <option value="0">Seleccione...</option>
                    <option value="2702171">2702171</option>
                    <option value="106451">106451</option>
                    <option value="43438">43438</option>
                    <option value="2456890">2456890</option>
                    <option value="116448">116448</option>
                    <option value="2456892">2456892</option>
                    <option value="2456897">2456897</option>
                    <option value="2456898">2456898</option>
                    <option value="106450">106450</option>
                    <option value="106447">106447</option>
                </select></td>

        </tr>
        <tr>
            <td><label for="fecha">Fecha:</label></td>
            <td><input type="date" name="fecha" id="fecha"></td>
        </tr>
        <tr>
            <td><label for="horario">Horario:</label></td>
            <td><input type="time" name="horario" id="horario"></td>
        </tr>
        <tr>
            <td><label for="horario">Periodo:</label>

            </td>
            <td>
                <label id="periodolbl"></label>
            </td>
        </tr>
        <tr>
            <td><label>ASAE: </label></td>
            <td><select id="asae">
                    <option value="0">Seleccione...</option>
                    <option value="1">I</option>
                    <option value="2">II</option>
                    <option value="2d">II Deslinde por autopista</option>
                    <option value="2da">II Deslinde por ASAE III</option>
                    <option value="3">III</option>
                    <option value="3d">III Deslinde por autopista</option>
                    <option value="3da">III Deslinde por ASAE IV</option>
                    <option value="4">IV</option>
                    <option value="4d">IV Deslinde por autopista</option>
                    <option value="5">V</option>
                    <option value="5d">V Deslinde por autopista</option>
                </select></td>
        </tr>
        <tr>
            <td><label>Ambiente: </label></td>
            <td><select id="ambiente">
                    <option value="0">Seleccione...</option>
                    <option value="interior">Interior</option>
                    <option value="exterior">Exterior</option>
                </select></td>
        </tr>
        <tr>
            <td></td>
            	
		<td>
		    <button onclick="validarPaso1()" type="button" class="btn btn-lg btn-primary">Validar Paso 1</button>
		</td>
		
        </tr>

        <tr style="display: none" id="btnp2">
            <td></td>
		
		<td>
		    <button onclick="validarPaso2Ext()" type="button" class="btn btn-lg btn-primary">Validar Paso 2</button>
		</td>
        </tr>
        <tr style="display: none" id="asalbl">
            <td><label>ASA: </label></td>
            <td><select id="asa" onchange="validaASA()">
                    <option value="0">Seleccione</option>
                    <option value="6">Tipo VI</option>
                    <option value="7">Tipo VII</option>
                </select></td>
        </tr>
        <tr style="display: none" id="recintolbl">
            <td><label>Recinto: </label></td>
            <td><select id="recinto">
                    <option value="HAB">Habitable</option>
                    <option value="SER">Servicio</option>
                    <option value="SLVP">Servicio Lindero Via Publica</option>
                </select></td>
        </tr>
        <tr style="display: none" id="usolbl">
            <td><label>Uso: </label></td>
            <td><select id="uso">
                    <option value="SAN">Sanidad</option>
                    <option value="ENS">Ensenanza</option>
                    <option value="CUL">Cultural</option>
                    <option value="OFI">Oficina</option>
                    <option value="COM">Comercios</option>
                    <option value="IND">Industria</option>
                </select></td>
        </tr>
        <tr style="display: none" id="btnp2i">
            <td></td>
            <td>
		 <button onclick="validarPaso2Int()" type="button" class="btn btn-lg btn-primary">Validar Paso 2</button>  
		    
		
		</td>
        </tr>
        <tr>
            <td><label id="lmplbld">LMP: </label><br><label id="lmplblm7d">
                </label></td>
            <td>
                <label id="lmplbl"></label><br><label id="lmplblm7v"></label>
            </td>
        </tr>

        <tr style="display: none; background-color:#ccc ; font-weight: bold;" id="monlblt">
            <td><label>FUENTE ON</label></td>
            <td><label id="resultadolmon"></label>
            </td>
        </tr>
        <tr style="display: none" id="monm1">
            <td><label>Med On - 1</label></td>
            <td><input type="text" name="m1on" id="m1on"></td>
        </tr>
        <tr style="display: none" id="monm2">
            <td><label>Med On - 2</label></td>
            <td><input type="text" name="m2on" id="m2on"></td>
        </tr>
        <tr style="display: none" id="monm3">
            <td><label>Med On - 3</label></td>
            <td><input type="text" name="m3on" id="m3on"></td>
        </tr>
        <tr style="display: none; background-color:#ccc ; font-weight: bold;" id="mofflblt">
            <td><label>FUENTE OFF</label></td>
            <td><label id="resultadolmoff"></label></td>
        </tr>
        <tr style="display: none" id="moffm1">
            <td><label>Med Off - 1</label></td>
            <td><input type="text" name="m1off" id="m1off"></td>
        </tr>
        <tr style="display: none" id="moffm2">
            <td><label>Med Off - 2</label></td>
            <td><input type="text" name="m2off" id="m2off"></td>
        </tr>
        <tr style="display: none" id="moffm3">
            <td><label>Med Off - 3</label></td>
            <td><input type="text" name="m3off" id="m3off"></td>
        </tr>
        <tr style="display: none" id="btncalcr">
            <td></td>
           	
		<td>
		    <button onclick="calcularRuido()" type="button" class="btn btn-info btn-primary">Calcular Nivel Ruido</button>
		    
		</td>
        </tr>
        <tr>
            <td colspan="2">
                <label id="lbllmlf"></label>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <label id="lblle"></label>
            </td>
        </tr>
        <tr>
            <td colspan="2">
                <label id="calculoruido"></label>
            </td>
        </tr>
    </table>

    <script>

	
var date = new Date();

var day = date.getDate();
var month = date.getMonth() + 1;
var year = date.getFullYear();

if (month < 10) month = "0" + month;
if (day < 10) day = "0" + day;

var today = year + "-" + month + "-" + day;

document.getElementById('fecha').value = today;
	

	    
	    
        let es_domingo;
        let es_diurno;
        let es_feriado;
        let asae;
        let asa;
        let periodo;
        let ambiente;
        let uso;
        let recinto;
        let lmp;
        let lmpb;
        let msiete;
        let fecha;
        let hora;


        function validarPaso1() {

            fecha = new Date(document.getElementById('fecha').value);
            const diaSemana = fecha.getDay(); // 0 = Domingo, 1 = Lunes, ...
            es_domingo = diaSemana === 6; // 0 deberia ser domingo, pero esta tomando que la semana arranca el lunes..
            hora = parseInt(document.getElementById('horario').value.slice(0, 2), 10);
            es_diurno = hora >= 7 && hora < 22;
            asae = document.getElementById("asae").value;
            ambiente = document.getElementById("ambiente").value;


            if (isNaN(fecha) || isNaN(hora) || asae == 0 || ambiente == 0) {
                alert("El Campo Fecha, Hora, ASAE y Ambiente son obligatorios");
            } else {

                es_feriado = false;
                for (let i = 0; i < feriados.length; i++) {
                    if (fecha.getTime() === feriados[i].getTime()) {
                        es_feriado = true;
                        break;
                    }
                }
                document.getElementById('fecha').disabled = true;
                document.getElementById('horario').disabled = true;
                document.getElementById('asae').disabled = true;
                document.getElementById('ambiente').disabled = true;

                periodo = es_diurno ? 'DIU' : 'NDF';

                if (es_domingo || es_feriado) { periodo = 'NDF'; }

                const resultado = document.getElementById('periodolbl');
                resultado.textContent = es_feriado ? 'FERIADO' : es_domingo ? 'DOMINGO' : es_diurno ? 'DIURNO' : 'NOCTURNO';

                const cboasa = document.getElementById('asalbl');
                ambiente === "exterior" ? obtenerLimiteExt(asae, periodo) : document.getElementById('asalbl').style.display = "";

                console.log('asae: ', asae);
                if (asae === "2da" || asae === "3da" || asae === "3d" || asae === "4d" || asae === "5d") {
                    document.getElementById('asa').disabled = true;
                    document.getElementById('asa').selectedIndex = 2;
                    validaASA();
                    if (asae === "2da" || asae === "3da") {
                        document.getElementById('recinto').disabled = true;
                        document.getElementById('recinto').selectedIndex = 2;
                    }
                }
            }

        }

        function obtenerLimiteExt(asae, periodo) {

            // asae, periodo, limite
            var limites = [
                [["1", "DIU"], 60],
                [["1", "NDF"], 50],
                [["2", "DIU"], 65],
                [["2", "NDF"], 50],
                [["2d", "DIU"], 65],
                [["2d", "NDF"], 50],
                [["2da", "NDF"], 55],
                [["3", "DIU"], 70],
                [["3", "NDF"], 60],
                [["3d", "DIU"], 70],
                [["3d", "NDF"], 60],
                [["3da", "NDF"], 65],
                [["4", "DIU"], 75],
                [["4", "NDF"], 70],
                [["4d", "DIU"], 75],
                [["4d", "NDF"], 70],
                [["5", "DIU"], 80],
                [["5", "NDF"], 75],
                [["5d", "DIU"], 80],
                [["5d", "NDF"], 75]
            ];

            const seleccionados = [asae, periodo];

            console.log('Seleccionado: ', seleccionados);

            for (var i = 0; i < limites.length; i++) {
                let limite = limites[i];
                console.log('Registro : ', i);
                for (var j = 0; j < 1; j++) {
                    let lim = limite[0];
                    if (lim[0] === seleccionados[0] && lim[1] === seleccionados[1]) {
                        lmp = limite[1];
                        console.log('Registro : ', lim, ' - limite : ', lmp);
                    }
                }
            }
            document.getElementById('lmplbl').textContent = lmp + " db";
            mostrarMed();

        }

        function mostrarMed() {
            const mediciones = ['monm1', 'monm2', 'monm3', 'monlblt', 'moffm1', 'moffm2', 'moffm3', 'mofflblt', 'btncalcr'];
            mediciones.forEach(id => document.getElementById(id).style.display = "");
        }


        function validaASA() {

            asa = document.getElementById("asa").value;

            const recintolbl = document.getElementById('recintolbl');
            const usolbl = document.getElementById('usolbl');
            const btnp2i = document.getElementById('btnp2i');

            recintolbl.style.display = asa === "7" ? "" : "none";
            usolbl.style.display = asa === "6" ? "" : "none";
            btnp2i.style.display = (asa === "6" || asa === "7") ? "" : "none";
        }


        function validarPaso2Int() {

            if (asa == "6") {
                uso = document.getElementById('uso').value;
                recinto = "0";
            }

            if (asa == "7") {
                recinto = document.getElementById('recinto').value;
                uso = "0";
            }

            document.getElementById('asa').disabled = true;
            document.getElementById('recinto').disabled = true;
            document.getElementById('uso').disabled = true;

            obtenerLimiteInt(asae, periodo, asa, recinto, uso);
        }

        function obtenerLimiteInt(asae, periodo, asa, recinto, uso) {
            // asae, periodo, asa, reciento, uso, limite, +7
            var limites = [
                [["1", "DIU", "6", "0", "SAN"], 50, "S"],
                [["1", "DIU", "6", "0", "ENS"], 50, "S"],
                [["1", "DIU", "6", "0", "CUL"], 50, "S"],
                [["1", "DIU", "6", "0", "OFI"], 55, "N"],
                [["1", "DIU", "6", "0", "COM"], 60, "N"],
                [["1", "DIU", "6", "0", "IND"], 60, "N"],
                [["1", "NDF", "6", "0", "SAN"], 40, "S"],
                [["1", "NDF", "6", "0", "ENS"], 50, "S"],
                [["1", "NDF", "6", "0", "CUL"], 50, "S"],
                [["1", "NDF", "6", "0", "OFI"], 55, "N"],
                [["1", "NDF", "6", "0", "COM"], 60, "N"],
                [["1", "NDF", "6", "0", "IND"], 60, "N"],
                [["1", "DIU", "7", "HAB", "0"], 50, "S"],
                [["1", "DIU", "7", "SER", "0"], 55, "S"],
                [["1", "DIU", "7", "SLVP", "0"], 60, "N"],
                [["1", "NDF", "7", "HAB", "0"], 40, "S"],
                [["1", "NDF", "7", "SER", "0"], 45, "S"],
                [["1", "NDF", "7", "SLVP", "0"], 50, "N"],
                [["2", "DIU", "6", "0", "SAN"], 50, "S"],
                [["2", "DIU", "6", "0", "ENS"], 50, "S"],
                [["2", "DIU", "6", "0", "CUL"], 50, "S"],
                [["2", "DIU", "6", "0", "OFI"], 55, "N"],
                [["2", "DIU", "6", "0", "COM"], 60, "N"],
                [["2", "DIU", "6", "0", "IND"], 60, "N"],
                [["2", "NDF", "6", "0", "SAN"], 40, "S"],
                [["2", "NDF", "6", "0", "ENS"], 50, "S"],
                [["2", "NDF", "6", "0", "CUL"], 50, "S"],
                [["2", "NDF", "6", "0", "OFI"], 55, "N"],
                [["2", "NDF", "6", "0", "COM"], 60, "N"],
                [["2", "NDF", "6", "0", "IND"], 60, "N"],
                [["2", "DIU", "7", "HAB", "0"], 50, "S"],
                [["2", "DIU", "7", "SER", "0"], 55, "S"],
                [["2", "DIU", "7", "SLVP", "0"], 60, "N"],
                [["2", "NDF", "7", "HAB", "0"], 40, "S"],
                [["2", "NDF", "7", "SER", "0"], 45, "S"],
                [["2", "NDF", "7", "SLVP", "0"], 50, "N"],
                [["2da", "NDF", "7", "SLVP", "0"], 55, "N"],
                [["3", "DIU", "6", "0", "SAN"], 50, "S"],
                [["3", "DIU", "6", "0", "ENS"], 50, "S"],
                [["3", "DIU", "6", "0", "CUL"], 50, "S"],
                [["3", "DIU", "6", "0", "OFI"], 55, "N"],
                [["3", "DIU", "6", "0", "COM"], 60, "N"],
                [["3", "DIU", "6", "0", "IND"], 60, "N"],
                [["3", "NDF", "6", "0", "SAN"], 40, "S"],
                [["3", "NDF", "6", "0", "ENS"], 50, "S"],
                [["3", "NDF", "6", "0", "CUL"], 50, "S"],
                [["3", "NDF", "6", "0", "OFI"], 55, "N"],
                [["3", "NDF", "6", "0", "COM"], 60, "N"],
                [["3", "NDF", "6", "0", "IND"], 60, "N"],
                [["3", "DIU", "7", "HAB", "0"], 55, "N"],
                [["3", "DIU", "7", "SER", "0"], 60, "N"],
                [["3", "DIU", "7", "SLVP", "0"], 70, "N"],
                [["3", "NDF", "7", "HAB", "0"], 45, "N"],
                [["3", "NDF", "7", "SER", "0"], 50, "N"],
                [["3", "NDF", "7", "SLVP", "0"], 60, "N"],
                [["3da", "NDF", "7", "SLVP", "0"], 65, "N"],
                [["3d", "DIU", "7", "HAB", "0"], 55, "N"],
                [["3d", "DIU", "7", "SER", "0"], 60, "N"],
                [["3d", "DIU", "7", "SLVP", "0"], 70, "N"],
                [["3d", "NDF", "7", "HAB", "0"], 45, "N"],
                [["3d", "NDF", "7", "SER", "0"], 50, "N"],
                [["3d", "NDF", "7", "SLVP", "0"], 60, "N"],
                [["4", "DIU", "6", "0", "SAN"], 50, "S"],
                [["4", "DIU", "6", "0", "ENS"], 50, "S"],
                [["4", "DIU", "6", "0", "CUL"], 50, "S"],
                [["4", "DIU", "6", "0", "OFI"], 55, "N"],
                [["4", "DIU", "6", "0", "COM"], 60, "N"],
                [["4", "DIU", "6", "0", "IND"], 60, "N"],
                [["4", "NDF", "6", "0", "SAN"], 40, "S"],
                [["4", "NDF", "6", "0", "ENS"], 50, "S"],
                [["4", "NDF", "6", "0", "CUL"], 50, "S"],
                [["4", "NDF", "6", "0", "OFI"], 55, "N"],
                [["4", "NDF", "6", "0", "COM"], 60, "N"],
                [["4", "NDF", "6", "0", "IND"], 60, "N"],
                [["4", "DIU", "7", "HAB", "0"], 60, "N"],
                [["4", "DIU", "7", "SER", "0"], 65, "N"],
                [["4", "DIU", "7", "SLVP", "0"], 75, "N"],
                [["4", "NDF", "7", "HAB", "0"], 50, "N"],
                [["4", "NDF", "7", "SER", "0"], 55, "N"],
                [["4", "NDF", "7", "SLVP", "0"], 70, "N"],
                [["4d", "DIU", "7", "HAB", "0"], 60, "N"],
                [["4d", "DIU", "7", "SER", "0"], 65, "N"],
                [["4d", "DIU", "7", "SLVP", "0"], 75, "N"],
                [["4d", "NDF", "7", "HAB", "0"], 50, "N"],
                [["4d", "NDF", "7", "SER", "0"], 55, "N"],
                [["4d", "NDF", "7", "SLVP", "0"], 70, "N"],
                [["5", "DIU", "6", "0", "SAN"], 50, "S"],
                [["5", "DIU", "6", "0", "ENS"], 50, "S"],
                [["5", "DIU", "6", "0", "CUL"], 50, "S"],
                [["5", "DIU", "6", "0", "OFI"], 55, "N"],
                [["5", "DIU", "6", "0", "COM"], 60, "N"],
                [["5", "DIU", "6", "0", "IND"], 60, "N"],
                [["5", "NDF", "6", "0", "SAN"], 40, "S"],
                [["5", "NDF", "6", "0", "ENS"], 50, "S"],
                [["5", "NDF", "6", "0", "CUL"], 50, "S"],
                [["5", "NDF", "6", "0", "OFI"], 55, "N"],
                [["5", "NDF", "6", "0", "COM"], 60, "N"],
                [["5", "NDF", "6", "0", "IND"], 60, "N"],
                [["5", "DIU", "7", "HAB", "0"], 60, "N"],
                [["5", "DIU", "7", "SER", "0"], 65, "N"],
                [["5", "DIU", "7", "SLVP", "0"], 80, "N"],
                [["5", "NDF", "7", "HAB", "0"], 50, "N"],
                [["5", "NDF", "7", "SER", "0"], 55, "N"],
                [["5", "NDF", "7", "SLVP", "0"], 75, "N"],
                [["5d", "DIU", "7", "HAB", "0"], 60, "N"],
                [["5d", "DIU", "7", "SER", "0"], 65, "N"],
                [["5d", "DIU", "7", "SLVP", "0"], 80, "N"],
                [["5d", "NDF", "7", "HAB", "0"], 50, "N"],
                [["5d", "NDF", "7", "SER", "0"], 55, "N"],
                [["5d", "NDF", "7", "SLVP", "0"], 75, "N"]
            ];

            var seleccionados = [asae, periodo, asa, recinto, uso];

            console.log('Seleccionado: ', seleccionados);

            for (var i = 0; i < limites.length; i++) {
                let limite = limites[i];
                console.log('Registro : ', i);
                for (var j = 0; j < 1; j++) {
                    let lim = limite[0];
                    if (lim[0] === seleccionados[0] && lim[1] === seleccionados[1] && lim[2] === seleccionados[2] && lim[3] === seleccionados[3] && lim[4] === seleccionados[4]) {
                        lmp = limite[1];
                        msiete = limite[2];
                        console.log('Registro 1: ', lim, ' - limite : ', lmp);
                    }
                }
            }

            document.getElementById('lmplbl').textContent = lmp + " db";

            mostrarMed();
        }


        function calcularRuido() {

            document.getElementById("resultadolmon").innerText = "";
            document.getElementById("resultadolmoff").innerText = "";
            document.getElementById("calculoruido").innerText = "";
            document.getElementById("lbllmlf").innerText = "";
            document.getElementById("lblle").innerText = "";

            const m1on = parseFloat(document.getElementById("m1on").value);
            const m2on = parseFloat(document.getElementById("m2on").value);
            const m3on = parseFloat(document.getElementById("m3on").value);

            lmp = lmpb > lmp ? lmpb : lmp;
            // Validar que los valores sean mayores a 0 y no estén en blanco  
            if (isNaN(m1on) || m1on <= 0 || isNaN(m2on) || m2on <= 0 || isNaN(m3on) || m3on <= 0) {
                document.getElementById("resultadolmon").innerText = "Por favor, ingrese valores mayores a 0 en las cajas de texto.";
                return;
            }

            // Validar que la diferencia entre los extremos de la serie no sea mayor a 3
            var maximo = Math.max(m1on, m2on, m3on);
            var minimo = Math.min(m1on, m2on, m3on);
            if (maximo - minimo > 3) {
                document.getElementById("resultadolmon").innerText = "La diferencia entre los extremos de la serie no debe ser mayor a 3db.";
                return;
            }

            var lm = (m1on + m2on + m3on) / 3
            document.getElementById("resultadolmon").innerText = "LM = " + lm.toFixed(1);

            const m1off = parseFloat(document.getElementById("m1off").value);
            const m2off = parseFloat(document.getElementById("m2off").value);
            const m3off = parseFloat(document.getElementById("m3off").value);


            // Validar que los valores sean mayores a 0 y no estén en blanco  
            if (isNaN(m1off) || m1off <= 0 || isNaN(m2off) || m2off <= 0 || isNaN(m3off) || m3off <= 0) {
                document.getElementById("resultadolmoff").innerText = "Por favor, ingrese valores mayores a 0 en las cajas de texto.";
                return;
            }

            // Validar que la diferencia entre los extremos de la serie no sea mayor a 3
            var maximo = Math.max(m1off, m2off, m3off);
            var minimo = Math.min(m1off, m2off, m3off);
            if (maximo - minimo > 3) {
                document.getElementById("resultadolmoff").innerText = "La diferencia entre los extremos de la serie no debe ser mayor a 3db.";
                return;
            }

            var lf = (m1off + m2off + m3off) / 3
            document.getElementById("resultadolmoff").innerText = "LF = " + lf.toFixed(1);

            var lmlf = lm - lf;
            document.getElementById("lbllmlf").innerText = "LM - LF =" + lmlf.toFixed(1);
            var le = 0

            console.log('mas 7 : ', msiete);
            document.getElementById('lmplbld').textContent = "LMP:";
            document.getElementById('lmplblm7d').textContent = "";
            document.getElementById('lmplblm7v').textContent = "";

            if (msiete = "S") {
                lfmsiete = lf + 7
                if (lfmsiete < lmp) {
                    //const limitelbl = document.getElementById('lmplbl');                                        
                    document.getElementById('lmplbld').textContent = "LMP:";
                    document.getElementById('lmplblm7d').textContent = "LMP aplicable:";
                    document.getElementById('lmplblm7v').textContent = lfmsiete.toFixed(1) + " db";
                    document.getElementById('lmplbl').textContent = lmp.toFixed(1) + " db o LF+7";
                    lmpb = lmp
                    lmp = lfmsiete
                }
            }


            if (lmlf < 3) {
                document.getElementById("calculoruido").innerText = "Ruidos No Evaluables por producirse Enmascaramiento";
                return;
            }
            if (lmlf >= 3 && lmlf < 10) {
                var delta = obtenerDelta(lmlf.toFixed(1));
                le = lm - parseFloat(delta);
                document.getElementById("lblle").innerText = "LE = " + le.toFixed(1) + " (LM = " + lm.toFixed(1) + " - Delta = " + delta + " )";
            }
            if (lmlf >= 10) {
                le = lm
                document.getElementById("lblle").innerText = "LE = " + le.toFixed(1) + " (LM = " + lm.toFixed(1) + " )";
            }


            if (le > 0) {
                if (le > lmp) {
                    document.getElementById("calculoruido").innerText = "EL LE (" + le.toFixed(1) + ") SUPERA EL LIMITE MAXIMO PERMITIDO (" + lmp.toFixed(1) + " db)";
                } else {
                    document.getElementById("calculoruido").innerText = "EL LE (" + le.toFixed(1) + ")  NO SUPERA EL LIMITE MAXIMO PERMITIDO (" + lmp.toFixed(1) + " db)";
                }
            }
        }


        function obtenerDelta(delta) {

            var tablaDelta = [
                ["3.0", "3.0"],
                ["3.1", "2.9"],
                ["3.2", "2.8"],
                ["3.3", "2.7"],
                ["3.4", "2.7"],
                ["3.5", "2.6"],
                ["3.6", "2.5"],
                ["3.7", "2.4"],
                ["3.8", "2.3"],
                ["3.9", "2.3"],
                ["4.0", "2.2"],
                ["4.1", "2.1"],
                ["4.2", "2.1"],
                ["4.3", "2.0"],
                ["4.4", "2.0"],
                ["4.5", "1.9"],
                ["4.6", "1.8"],
                ["4.7", "1.8"],
                ["4.8", "1.7"],
                ["4.9", "1.7"],
                ["5.0", "1.7"],
                ["5.1", "1.6"],
                ["5.2", "1.6"],
                ["5.3", "1.5"],
                ["5.4", "1.5"],
                ["5.5", "1.4"],
                ["5.6", "1.4"],
                ["5.7", "1.4"],
                ["5.8", "1.3"],
                ["5.9", "1.3"],
                ["6.0", "1.3"],
                ["6.1", "1.2"],
                ["6.2", "1.2"],
                ["6.3", "1.2"],
                ["6.4", "1.1"],
                ["6.5", "1.1"],
                ["6.6", "1.1"],
                ["6.7", "1.0"],
                ["6.8", "1.0"],
                ["6.9", "1.0"],
                ["7.0", "1.0"],
                ["7.1", "0.9"],
                ["7.2", "0.9"],
                ["7.3", "0.9"],
                ["7.4", "0.9"],
                ["7.5", "0.9"],
                ["7.6", "0.8"],
                ["7.7", "0.8"],
                ["7.8", "0.8"],
                ["7.9", "0.8"],
                ["8.0", "0.7"],
                ["8.1", "0.7"],
                ["8.2", "0.7"],
                ["8.3", "0.7"],
                ["8.4", "0.7"],
                ["8.5", "0.7"],
                ["8.6", "0.6"],
                ["8.7", "0.6"],
                ["8.8", "0.6"],
                ["8.9", "0.6"],
                ["9.0", "0.6"],
                ["9.1", "0.6"],
                ["9.2", "0.6"],
                ["9.3", "0.5"],
                ["9.4", "0.5"],
                ["9.5", "0.5"],
                ["9.6", "0.5"],
                ["9.7", "0.5"],
                ["9.8", "0.5"],
                ["9.9", "0.5"]
            ];

            for (var i = 0; i < tablaDelta.length; i++) {
                let valortabla = parseFloat(tablaDelta[i][0]).toFixed(1);
                console.log('Registro : ', valortabla, 'Buscado : ', delta);
                if (valortabla === delta) {
                    return tablaDelta[i][1];
                }
            }

            return 0;

        }

        const feriados = [
            new Date('2023-05-01'), // Día del Trabajador
            new Date('2023-06-20'), // Paso a la Inmortalidad del General Manuel Belgrano
            new Date('2023-07-09'), // Día de la Independencia
            new Date('2023-04-18'), // Día de la Independencia
            // ...
        ];



	    
	    
	    
	    
	    
	    

	    
	    
	    
	    
	    
	    
    </script>

	
	
	
<input class="input" type="text" placeholder="fill me">
<button id="imprimir" onclick="window.print();return false;"  type="button" class="btn btn-lg btn-default">Imprimir PDF</button>
</body>
<script>
let input = document.querySelector(".input");
let button = document.querySelector(".button");
button.disabled = true;
input.addEventListener("change", stateHandle);

function stateHandle() {
    if(document.querySelector(".input").value === "") {
        button.disabled = true;
    } else {
        button.disabled = false;
    }
}
</script>
	
	
	
	
	
	
	
	
	
</body>

</html>
